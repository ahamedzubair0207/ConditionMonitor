<!-- Top Level Nav -->


<div class="pt-2 pb-2 mb-3">
  <ul class="nav nav-tabs pl-3 pr-5" id="main-tabs" role="tablist">
    <li class="nav-item">
      <a class="nav-link active tab-icon" id="loc-tab" href="#loc-details-tab" data-toggle="tab" role="tab"
        aria-controls="loc-info" aria-selected="true"><i class="icon-loc-pin-map mr-1"></i>Location</a>
    </li>
    <li class="nav-item">
      <a class="nav-link tab-icon" id="loc-event-tab" (click)="onClickOfNavTab('event_logs')" href="#event-details-tab"
        data-toggle="tab" role="tab" aria-controls="event-details" aria-selected="false"><i
          class="icon-warn mr-1"></i>Event Logs</a>
    </li>

    <!-- dynamic dashboard  can go here-->
    <li *ngFor="let dashboardDataUser of dashboardData; let i = index">
      <a class="nav-link tab-icon" (click)="getDashboardHTML('parkerdashboard', i)"
        id="dashboard{{dashboardDataUser.id}}-tab" data-toggle="tab" href="#Dashboard_{{i}}" role="tab"
        aria-controls="loc" aria-selected="false"><i
          class="mr-2  icon-dashboard"></i>{{dashboardDataUser.dashboardName}}
        <i class="fa fa-pencil ml-2"
          (click)="openAddDashboardModal('editDashboard', dashboardDataUser.id, dashboardDataUser.dashboardName); stopPropagation();"
          title="Configure Dashboard"></i>&nbsp;
        <i class="icon-trash"
          (click)="openDashboardConfirmDialog(dashboardDataUser.id, dashboardDataUser.dashboardName)"
          title="Delete Dashboard"></i>
      </a>
    </li>
    <li class="nav-item">
      <div class="add-dashboard-btn-wrapper">
        <a class="nav-link tab-icon create-event-btn" (click)="openAddDashboardModal('addDashboard')"
          id="createDashboardButton"><i class="fa fa-plus" title="Add New Dashboard"></i></a>
      </div>
    </li>


    <!-- dynamic dashboard  can go here-->



  </ul>



  <!-- Second Level Nav -->
  <div class="tab-content w-100">

    <!-- Location Details Tab  -->
    <div class="tab-pane fade border border-top-0 p-3 mb-3 shadow show active" id="loc-details-tab"
      *ngIf="(!locId && pageLabels) || (locId && pageLabels && location)" role="tabpanle"
      area-labelledby="loc-info-tab">
      <div class="d-flex flex-row">
        <ul class="nav nav-tabs nav-tabs-vertical nav-tabs-left pt-3" aria-orientation="vertical">
          <li class="nav-item" placement="top" ngbTooltip="Deatils of Location">
            <a class="nav-link active tab-icon" id="loc-details-tab" (click)="onClickOfNavTab('location_details')"
              name="loc-view-edit" href="#loc-details" data-toggle="tab" role="tab" aria-controls="loc-details"
              aria-selected="true"><i class="icon-details"></i></a>
          </li>
          <li class="nav-item" placement="top" ngbTooltip="Associate Signals & Gateways">
            <a class="nav-link tab-icon" id="loc-signal-tab" (click)="onClickOfNavTab('signal_association')"
              name="signal-association-edit" href="#loc-signal" data-toggle="tab" role="tab" aria-controls="loc-signal"
              aria-selected="false"><i class="icon-cell-tower"></i></a>
          </li>

        </ul>

        <div class="tab-content w-100">
          <div class="tab-pane fade show active" *ngIf="(!locId && pageLabels) || (locId && pageLabels && location)"
            id="loc-details" role="tabpanle" area-labelledby="loc-details-tab">

            <form #locationForm="ngForm" class="create-loc-container needs-validation" (ngSubmit)="onLocationSubmit()"
              novalidate>

              <div class="lock-tab border border-bottom-0">

                <i class="fa fa-lock edit-view-lock" name="loclockbutton" *ngIf="pageType.toLowerCase() === 'view'"
                  (click)="onLockClick()"></i>
                <i class="fa fa-unlock edit-view-lock" name="locunlockbutton" *ngIf="pageType.toLowerCase() === 'edit'"
                  (click)="onLockClick()"></i>

              </div>

              <div class="row">
                <div class="col-md-4">
                  <div class="form-group">
                    <label class="" id="name" votmrequired>{{pageLabels.Name.labelName}}</label>
                    <div class="">
                      <input type="text" [(ngModel)]="location.locationName" class="form-control form-control-sm"
                        [disabled]="pageType==='View'" #locName="ngModel" id="locDtlName" placeholder="Enter Name"
                        name="name" required maxlength="50">
                      <div *ngIf="locName.dirty && locName.invalid">
                        <app-votm-cloud-validator message="Name is required"></app-votm-cloud-validator>
                      </div>
                      <app-votm-cloud-char-validator
                        [condition]="location.locationName && location.locationName.length>=50">
                      </app-votm-cloud-char-validator>
                    </div>
                  </div>
                </div>

                <div class="col-md-4">
                  <div class="form-group">
                    <label class="" for="parentorganization">{{pageLabels.ParentOrganization.labelName}}
                      :</label>
                    <div class="">
                      <input *ngIf="(parentLocId || locId); else elsePart" for="parentorganizationname"
                        class="form-control form-control-sm" type="text"
                        placeholder="{{parentOrganizationInfo.parentOrganizationName}}" id="locDtlParentOrg" readonly
                        disabled>
                      <ng-template #elsePart>
                        <select *ngIf="!parentLocId" [disabled]="pageType==='View'"
                          [(ngModel)]="location.organizationId" id="organizationId" name="organizationId"
                          class=" col-sm-7 drop-down form-control form-control-sm" #organizationId="ngModel">
                          <option *ngFor="let org of organizationList" class="dropdown-item" [value]="org.id">
                            {{org.name}}
                          </option>
                        </select>
                      </ng-template>
                      <!-- <label for="parentorganizationname"></label> -->
                    </div>
                  </div>
                </div>

                <div class="col-md-4">
                  <div class="form-group">
                    <label class="" for="locationType">{{pageLabels.LocationType.labelName}}:
                    </label>
                    <div class="">
                      <input type="text" [(ngModel)]="location.locationType" class="form-control form-control-sm"
                        placeholder="Enter Location Type" [disabled]="pageType==='View'" #locationType="ngModel"
                        name="locationType" maxlength="50" id="locDtllocType">
                      <div *ngIf="locationType.dirty && locationType.invalid">
                        <app-votm-cloud-validator message="Location type is required"></app-votm-cloud-validator>
                      </div>
                    </div>
                  </div>
                </div>

                <div class="col-md-4">
                  <div class="form-group">
                    <label class="" for="parentLoc">{{pageLabels.ParentLocation.labelName}}
                      :</label>
                    <div class="">

                      <input for="parentLocname" class="form-control form-control-sm" type="text"
                        placeholder="{{parentLocName}}" id="locDtlParentLoc" readonly disabled>

                      <!-- <select [disabled]="pageType==='View'" [(ngModel)]="location.locationId" id="parentLocation"
                      name="installedLocation" class=" col-sm-7 drop-down form-control form-control-sm"
                      #parentLocation="ngModel" required>
                      <option *ngFor="let loc of locationListForDropDown" [value]="loc.locationId">
                        {{loc.locationName}}
                      </option>
                    </select> -->
                      <!-- <label for="parentLocname">{{parentLocName}}</label> -->
                    </div>
                  </div>
                </div>

                <div class="col-md-4">
                  <div class="form-group">
                    <label class="" id="primaryContact" votmrequired>
                      {{pageLabels.PrimaryContact.labelName}}
                      :</label>
                    <div class="">
                      <!-- No Validation Needed  -->
                      <input type="email" [disabled]="pageType==='View'" [(ngModel)]="location.primaryContact"
                        class="form-control form-control-sm" #primaryContact="ngModel" maxlength="100"
                        placeholder="Enter Primary Contact" name="primaryContact" id="locDtlPrmyCotact" required>
                      <div *ngIf="primaryContact.dirty && primaryContact.invalid">
                        <app-votm-cloud-validator *ngIf="primaryContact.errors && primaryContact.errors.required"
                          message="Primary Contact is required"></app-votm-cloud-validator>
                        <app-votm-cloud-validator *ngIf="primaryContact.errors && primaryContact.errors.email"
                          message="This is not valid mail id"></app-votm-cloud-validator>
                      </div>
                      <app-votm-cloud-char-validator
                        [condition]="location.primaryContact && location.primaryContact.length>=100">
                      </app-votm-cloud-char-validator>
                    </div>
                  </div>
                </div>

                <div class="col-md-4 col-xl-4">
                  <div class="form-group">
                    <label class="" votmrequired for="primarydistribute">
                      Primary Distributor:</label>
                    <div class="">
                      <!-- No Validation Needed  -->
                      <input type="text" [(ngModel)]="location.primaryDistributor" class="form-control form-control-sm"
                        placeholder="Enter Primary Distributor" [disabled]="pageType==='View'"
                        #primarydistribute="ngModel" name="primarydistribute" id="locDtlPrmyDistrbstrName" required>
                      <div *ngIf="primarydistribute.dirty && primarydistribute.invalid">
                        <app-votm-cloud-validator message="Primary Distributor is required"></app-votm-cloud-validator>
                      </div>
                    </div>
                  </div>
                </div>

              </div>

              <div class="row" *ngIf="location && location.address && location.address.length>0">
                <div class="col-md-6">
                  <!-- Street Address  -->
                  <fieldset>
                    <legend id="loc-street-add" votmrequired>{{pageLabels.BillingAddress.labelName}} </legend>

                    <div class="row">
                      <div class="col-12 form-group">
                        <input [disabled]="pageType==='View'" type="text" [(ngModel)]="location.address[0].address1"
                          for="address1" class="form-control form-control-sm" placeholder="Street Name" name="address1"
                          #address1="ngModel" id="locDtlstrName" required>
                        <div *ngIf="address1.dirty && address1.invalid">
                          <app-votm-cloud-validator message="Street Name is required"></app-votm-cloud-validator>
                        </div>
                      </div>

                      <div class="col-12 form-group">

                        <input [disabled]="pageType==='View'" type="text" [(ngModel)]="location.address[0].address2"
                          for="address2" class="form-control form-control-sm" placeholder="Apt/Suite Number"
                          #address2="ngModel" name="address2" id="locDtlAptNumber">

                      </div>

                      <div class="col-6 form-group">
                        <!-- <label for="city">* {{pageLabels.City.labelName}}:</label> -->
                        <input [disabled]="pageType==='View'" type="text" [(ngModel)]="location.address[0].city"
                          class="form-control form-control-sm" required #city="ngModel" placeholder="City" name="city"
                          id="locDtlStrtCity">
                        <div *ngIf="city.dirty && city.invalid">
                          <app-votm-cloud-validator message="City is required"></app-votm-cloud-validator>
                        </div>
                      </div>

                      <div class="col-6 form-group">

                        <!-- <select [disabled]="pageType==='View' || !location.address[0].country" -->
                        <select [disabled]="pageType==='View'" [(ngModel)]="location.address[0].state" name="state"
                          class="drop-down form-control form-control-sm" #state="ngModel" required
                          aria-placeholder="State" id="locDtlStrtState">
                          <option value="default" disabled selected>State</option>
                          <option *ngFor="let state of states" [value]="state.value">
                            {{state.text}}
                          </option>
                        </select>
                        <div *ngIf="state.dirty && state.invalid">
                          <app-votm-cloud-validator message="State is required"></app-votm-cloud-validator>
                        </div>
                      </div>

                      <div class="col-6 form-group">
                        <!-- <label for="country">* {{pageLabels.Country.labelName}}:</label> -->
                        <select [disabled]="pageType==='View'" [(ngModel)]="location.address[0].country" name="country"
                          class="drop-down form-control form-control-sm" (change)="onCountryChange($event)" required
                          #country="ngModel" id="locDtlStrtCountry">
                          <option value="countryselect" disabled selected>Country</option>
                          <option *ngFor="let country of countries" [value]="country.countryName">
                            {{country.countryName}}
                          </option>
                        </select>
                        <div *ngIf="country.dirty && country.invalid">
                          <app-votm-cloud-validator message="Country is required"></app-votm-cloud-validator>
                        </div>
                      </div>

                      <div class="col-6">
                        <!-- <label for="zipcode">* {{pageLabels.Zipcode.labelName}}:</label> -->
                        <input [disabled]="pageType==='View'" type="text" [(ngModel)]="location.address[0].postalCode"
                          class="form-control form-control-sm" placeholder="Zip Code" name="orgName" #zipCode="ngModel"
                          id="locDtlStrtZipCode" required>
                        <div *ngIf="zipCode.dirty && zipCode.invalid">
                          <app-votm-cloud-validator message="Zip Code is required"></app-votm-cloud-validator>
                        </div>
                      </div>

                    </div>
                  </fieldset>
                </div>
                <div class="col-md-6">
                  <!-- Logo -->
                  <div class="form-group">
                    <label class="" for="locImage">{{pageLabels.LogoFile.labelName}} :
                    </label>
                    <div class="">
                      <span style="color:rgb(106,96,85);" *ngIf="message">{{message}}</span>
                      <input *ngIf="pageType!=='View'" #file type="file" accept='image/*' (change)="preview(file.files)"
                        class="form-control form-control-sm" id="locDtlLocImg" />
                      <label style="font-weight: bold"
                        *ngIf="location && location.logo">{{location.logo.imageName}}</label>
                      <img [src]="imgURL" *ngIf="imgURL" style="max-width:511px; max-height:479px;">
                    </div>
                  </div>
                  <div class="form-group">
                    <label for="geoLocation" class="">{{pageLabels.GeoLocation.labelName}}:</label>
                    <div class="d-flex align-items-center">
                      <input type="text" [disabled]="pageType==='View'" [(ngModel)]="location.latitude"
                        class="geo-loc-long form-control form-control-sm" placeholder="Longitude" name="geoLocationLong"
                        #geoLocationLong="ngModel" maxlength="50" id="locDtlGeoLong">&nbsp;/&nbsp;
                      <input type="text" [disabled]="pageType==='View'" [(ngModel)]="location.longitude"
                        class="geo-loc-lat form-control form-control-sm" placeholder="Latitude" name="geoLocationLat"
                        #geoLocationLat="ngModel" maxlength="50" id="locDtlGeoLatitude">
                      <button id="geo-loc-btn" type="button" class="btn rounded-circle btn-sm"
                        (click)="onGeoLocationClick()"><i class="icon-loc-pin-map"></i>Geocode</button>
                      <div
                        *ngIf="(geoLocationLong.dirty && geoLocationLong.invalid) || (geoLocationLat.dirty && geoLocationLat.invalid) ">
                        <app-votm-cloud-validator [message]="geoLocationErrorMessage"></app-votm-cloud-validator>
                      </div>
                    </div>
                  </div>
                  <!-- Geo fence  -->
                  <div class="form-group">
                    <label for="geofence" class="">{{pageLabels.GeoFence.labelName}}:</label>
                    <div class="">
                      <div class="form-check form-check-inline ">
                        <input class="form-check-input" (change)="onGeoUnitChange()" [disabled]="pageType==='View'"
                          type="radio" [(ngModel)]="location.geoFenceType" name="geofenceRadius" id="f-radius"
                          value="bf0bc7b5-1bf8-4a59-a3b5-35904937e89e">
                        <label class="form-check-label" for="f-radius">Radius</label>
                      </div>
                      <div class="form-check form-check-inline">
                        <input class="form-check-input" value="d5764af5-114b-48e6-9980-544634167826"
                          [(ngModel)]="location.geoFenceType" (change)="onGeoUnitChange()"
                          [disabled]="pageType==='View'" type="radio" name="geofenceRectangle" id="f-square">
                        <label class="form-check-label" for="f-square">Rectangle</label>
                      </div>
                      <div
                        *ngIf="location && location.geoFenceType && location.geoFenceType ==='bf0bc7b5-1bf8-4a59-a3b5-35904937e89e'"
                        ng-show="geofence == 'f-radius'" class="d-flex">
                        <input type="number" class="form-control form-control-sm geo-text-box w-50" name="radius"
                          [(ngModel)]="location.geoRadius" placeholder="Radius" [disabled]="pageType==='View'"
                          id="locDtlRadiusVal">
                        <select name="radiusUnit" [disabled]="pageType==='View'" [(ngModel)]="location.geoFenceValue"
                          class="drop-down geo-drop-down form-control form-control-sm w-50" id="locDtlRadiusGeoFecVal">
                          <option value="ft">Feet</option>
                          <option value="meters">Meters</option>
                        </select>
                      </div>
                      <div ng-show="geofence == 'f-square'"
                        *ngIf="location && location.geoFenceType && location.geoFenceType ==='d5764af5-114b-48e6-9980-544634167826'"
                        class="col-12">
                        <div class="row">
                          <input type="number" [disabled]="pageType==='View'" name="width"
                            [(ngModel)]="location.geoWidth" class="form-control form-control-sm col" placeholder="Width"
                            maxlength="50" id="locDtlSqrGeoWidth"> *
                          <input [disabled]="pageType==='View'" type="number" name="height"
                            [(ngModel)]="location.geoHeight" class="form-control form-control-sm col"
                            placeholder="Height" maxlength="50" id="locDtlSqrGeoHeight">
                          <select name="rectangleUnit" [disabled]="pageType==='View'"
                            [(ngModel)]="location.geoFenceValue"
                            class="drop-down geo-drop-down col form-control form-control-sm" id="locDtlSqrGeofncVal">
                            <option value="ft">Feet</option>
                            <option value="meters">Meters</option>
                          </select>
                        </div>
                      </div>
                    </div>
                  </div>

                </div>

                <!-- </div>

              <div class="row mt-2"> -->
              </div>
              <!-- Time Zone  -->
              <div class="row mt-3">
                <div class="col-md-4" *ngIf="!locId && applicationConfiguration">
                  <div class="form-group">
                    <label class="" id="timezone">* {{pageLabels.DefaultTimeZone.labelName}}
                      :</label>
                    <div class="d-flex align-items-center">
                      <select required #timezone="ngModel" [disabled]="true" [(ngModel)]="location.timeZoneId"
                        name="timezone" class="drop-down form-control form-control-sm" id="locDtlDfltTimezone1">
                        <!-- <option value="" data-default selected>Select Timezone</option> -->
                        <option *ngFor="let timeZone of applicationConfiguration.timeZone"
                          [value]="timeZone.timeZoneId">
                          {{timeZone.timeZoneName}}
                        </option>
                      </select>
                      <button id="geo-loc-btn" type="button" class="btn rounded-circle btn-sm p-0"
                        (click)="onGeoLocationClick()"><i class="fa fa-bullseye"></i>Lookup</button>
                      <div *ngIf="timezone.dirty && timezone.invalid">
                        <app-votm-cloud-validator message="TimeZone is required"></app-votm-cloud-validator>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="col-md-3" *ngIf="locId && applicationConfiguration">
                  <div class="form-group">
                    <!-- <label for="DefatimezoneultLang">* {{pageLabels.TimeZone.labelName}} :</label> -->
                    <label class="" id="timezone" votmrequired>{{pageLabels.DefaultTimeZone.labelName}}
                      :</label>
                    <div class="d-flex align-items-center">
                      <select required #timezone="ngModel" [disabled]="true" [(ngModel)]="location.timeZoneId"
                        name="timezone" class="drop-down form-control form-control-sm" id="locDtlDfltTimezone2">
                        <!-- <option value="" data-default selected>Select Timezone</option> -->
                        <option *ngFor="let timeZone of applicationConfiguration.timeZone"
                          [value]="timeZone.timeZoneId">
                          {{timeZone.timeZoneName}}
                        </option>
                      </select>
                      <button id="geo-loc-btn" type="button" class="btn rounded-circle btn-sm p-0"
                        (click)="onGeoLocationClick()"><i class="fa fa-bullseye"></i>Lookup</button>
                      <div *ngIf="timezone.dirty && timezone.invalid">
                        <app-votm-cloud-validator message="TimeZone is required"></app-votm-cloud-validator>
                      </div>
                    </div>
                  </div>
                </div>
                <!-- Language -->
                <div class="col-md-3" *ngIf="!locId && applicationConfiguration">
                  <div class="form-group">
                    <label class="" id="DefaultLang" votmrequired>{{pageLabels.Language.labelName}}
                      :</label>
                    <div class="">
                      <select required [(ngModel)]="location.localeId" name="language"
                        class="drop-down form-control form-control-sm" #defLanguage="ngModel" id="locDtlGeoLang1">
                        <option *ngFor="let locale of applicationConfiguration.locale" [value]="locale.localeId">
                          {{locale.localeName}}
                        </option>
                      </select>
                      <div *ngIf="defLanguage.dirty && defLanguage.invalid">
                        <app-votm-cloud-validator message="Language is required"></app-votm-cloud-validator>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="col-md-3" *ngIf="locId && applicationConfiguration">
                  <div class="form-group">
                    <label class="" id="DefaultLang" votmrequired>{{pageLabels.Language.labelName}}
                      :</label>
                    <div class="">
                      <select required #language="ngModel" [disabled]="pageType==='View'"
                        [(ngModel)]="location.localeId" name="language" class="drop-down form-control form-control-sm"
                        id="locDtlGeoLang1">
                        <option *ngFor="let locale of applicationConfiguration.locale" [value]="locale.localeId">
                          {{locale.localeName}}
                        </option>
                      </select>
                      <div *ngIf="language.dirty && language.invalid">
                        <app-votm-cloud-validator message="Language is required"></app-votm-cloud-validator>
                      </div>
                    </div>
                  </div>
                </div>
                <!-- UOM  -->
                <div class="col-md-2">
                  <label class="" id="unitsOfMeasure">*
                    Default UOM:</label>
                  <div class="">
                    <label id="unitsOfMeasureSelected">{{UOM}}</label>
                    <button id="loc-uom-change" class="btn btn-sm btn-secondary ml-3" type="button"
                      *ngIf="pageType !=='View'" (click)="openmodal()">Change</button>
                  </div>
                </div>

                <div class="col-md-3">
                  <!-- Claimed Gateway -->
                  <div class="form-group">
                    <label class="" id="gateway">Claimed Gateway: </label>
                    <!-- <div class=""> -->
                    <!-- <ng-multiselect-dropdown [disabled]="pageType==='View'" class="gateway-dropdown" [placeholder]="'Gateway List'"
                                                                          [data]="gatewayList" name="claimedGateway" [(ngModel)]="selectedItems" [settings]="dropdownSettings"
                                                                          (onSelect)="onItemSelect($event)" (onSelectAll)="onSelectAll($event)">
                                                                        </ng-multiselect-dropdown> -->
                    <!-- <select2 [data]="gatewayList" width="260px" multiple="true"></select2> -->
                    <select2 [disabled]="pageType === 'View'" [data]="gatewayList" [options]="options" width="100%"
                      class="" [value]="selectedGateways" (valueChanged)="onItemSelect($event)"
                      id="locDtlGeoClaimedGateway">
                    </select2>
                    <!-- <button class="btn-save btn btn-primary btn-sm">Save</button> -->
                    <!-- </div> -->
                  </div>
                </div>
              </div>
              <div class="row mt-2">

                <div class="col">
                  <div class="row form-group">
                    <label class="col-md-2 col-1 col-form-label" id="f-description">Description:</label>
                    <div class="col-md-12 col-11">
                      <textarea class="form-control form-control-sm" [disabled]="pageType==='View'"
                        [(ngModel)]="location.description" name="locDescription" rows="3" id="f-description"></textarea>
                    </div>
                  </div>

                </div>

              </div>

              <div class="row">
                <button id="nest-asset-create" type="button" *ngIf="location.locationId"
                  class="btn btn-sm btn-outline-info mr-2 ml-2" (click)="creteAsset($event)"><i
                    class="pr-2 icon-asset-add"></i>Add Asset</button>
                <button id="nest-loc-create" *ngIf="location.locationId" (click)="createNestedLocation($event)"
                  type="button" class="btn btn-sm btn-outline-info"><i class="pr-2 icon-location-add"></i>Add
                  Sub-Location</button>
                <button id="loc-cancel" for="form-cancel" type="button" (click)="onCancelClick($event)"
                  class="btn btn-secondary btn-sm button-mod"><i class="pr-2 fa fa-window-close-o"></i>Cancel</button>
                <button id="loc-delete" type="button" *ngIf="location.locationId && pageType !=='View'"
                  (click)="openConfirmDialog()" class="btn btn-secondary btn-sm ml-2"><i
                    class="pr-2 icon-trash"></i>Delete</button>
                <button id="loc-save" type="submit" *ngIf="pageType !=='View'" class="btn btn-sm btn-info ml-2"><i
                    class="pr-2 icon-location"></i>Save
                  Location</button>
              </div>
              <!-- <div class="row form-control-sm form-group mt-2">
          <label class="col-sm-1 col-form-label" for="f-description">{{pageLabels.DescriptionofLocation.labelName}}
              :</label>
          <div class="col-sm-11">
            <textarea class="form-control form-control-sm" [disabled]="pageType==='View'"
              [(ngModel)]="location.description" name="locDescription" rows="3" id="f-description"></textarea>
          </div>

        </div> -->

            </form>
          </div>

          <div class="tab-pane fade" id="loc-signal" role="tabpanle" area-labelledby="loc-signal-tab">
            <div class="nav nav-tabs" role="tablist">
              <ul class="nav nav-tabs">
                <li class="nav-item">
                  <a class="nav-link active tab-icon" id="signal" (click)="onClickOfNavTab('signal_association')"
                    href="#signal-tab" data-toggle="tab" role="tab" aria-controls="signal" aria-selected="true">
                    Signals</a>
                </li>
                <li class="nav-item">
                  <a class="nav-link tab-icon" id="gateway" (click)="onClickOfNavTab('gateway_association')"
                    href="#gateway-tab" data-toggle="tab" role="tab" aria-controls="gateway" aria-selected="true">
                    Gateways</a>
                </li>
              </ul>
            </div>
            <div class="tab-content" id="">
              <div class="tab-pane fade show active" *ngIf="isSignalAssociationClicked" id="signal-tab" role="tabpanle"
                area-labelledby="signal-tab">
                <app-votm-cloud-locations-signal></app-votm-cloud-locations-signal>
              </div>
              <div class="tab-pane fade" *ngIf="isGatewayAssociationClicked" id="gateway-tab" role="tabpanle"
                area-labelledby="gateway-tab">
                <!-- <app-votm-cloud-locations-signal></app-votm-cloud-locations-signal> -->
                <app-votm-cloud-locations-gateway></app-votm-cloud-locations-gateway>
              </div>
            </div>
          </div>

        </div>
      </div>


    </div>


    <div class="tab-pane fade border border-top-0 p-3 mb-3 flex-grow-1" id="event-details-tab" role="tabpanle"
      area-labelledby="event-details-tab">
      <app-votm-cloud-events-home></app-votm-cloud-events-home>
    </div>

    <!-- <div class="tab-pane fade border border-top-0 p-3 mb-3 flex-grow-1" id="dashboard1-details-tab" role="tabpanle"
      area-labelledby="dashboard1-details-tab">
      <app-votm-cloud-locations-dashboard></app-votm-cloud-locations-dashboard>
    </div> -->
    <div class="tab-pane fade border border-top-0 p-3 mb-3 flex-grow-1"
      *ngFor="let dashboardDataUser of dashboardData; let ij = index" id="Dashboard_{{ij}}" role="tabpanel">
      <div class="row" *ngIf="dashboardDataUser.dashboardHTML" [innerHTML]="dashboardDataUser.dashboardHTML"></div>
      <div class="row" *ngIf="ij==0 || ij==3 || ij==6">
        <div class="col-6 dashboard-gear-icon-wrapper">
          <div class="dashboard-gear-icon"><i class="fa fa-gear" (click)="op3.toggle($event)"></i></div>
          <app-votm-animated-gauge></app-votm-animated-gauge>
        </div>
        <div class="col-6 dashboard-gear-icon-wrapper">
          <div class="dashboard-gear-icon"><i class="fa fa-gear" (click)="op3.toggle($event)"></i></div>
          <app-votm-simple-gauge></app-votm-simple-gauge>
        </div>
      </div>

      <div class="row" *ngIf="ij==0 || ij==3 || ij==6">
        <div class="col-12 dashboard-gear-icon-wrapper">
          <div class="dashboard-gear-icon"><i class="fa fa-gear" (click)="op3.toggle($event)"></i></div>
          <app-votm-live-order-book-depth-chart></app-votm-live-order-book-depth-chart>
        </div>
      </div>

      <div class="row" *ngIf="ij==1 || ij==4 || ij==7">
        <div class="col-6 dashboard-gear-icon-wrapper">
          <div class="dashboard-gear-icon"><i class="fa fa-gear" (click)="op3.toggle($event)"></i></div>
          <app-votm-pie-slice-chart></app-votm-pie-slice-chart>
        </div>
        <div class="col-6 dashboard-gear-icon-wrapper">
          <div class="dashboard-gear-icon"><i class="fa fa-gear" (click)="op3.toggle($event)"></i></div>
          <app-votm-cylinder-gauge></app-votm-cylinder-gauge>
        </div>
      </div>

      <div class="row" *ngIf="ij==2 || ij==5 || ij==7">
        <div class="col-12 dashboard-gear-icon-wrapper">
          <div class="dashboard-gear-icon"><i class="fa fa-gear" (click)="op3.toggle($event)"></i></div>
          <app-votm-line-graph></app-votm-line-graph>
        </div>
      </div>
    </div>



  </div>

</div>



<app-votm-cloud-confim-dialog (onClose)="deleteOrganizationById($event)" #confirmBox
  message="Do you want to delete the organization?" headerMessage="Warning"></app-votm-cloud-confim-dialog>


<!-- UOM Modal -->
<div id="myModal" class="modal">
  <div class="modal-dialog modal-lg modal-dialog-scrollable">
    <!-- Modal content -->
    <div class="modal-content">
      <div class="modal-header">
        <label for="UOM" class="pr-2">Units of Measure :</label>
        <div class="form-check form-check-inline">
          <input [disabled]="pageType==='View'" class="form-check-input form-control-sm" type="radio" value="SI"
            name="UOM" (change)="onUnitChange($event)" checked id="f-si">
          <label class="form-check-label" for="f-si">SI</label>
        </div>
        <div class="form-check form-check-inline">
          <input [disabled]="pageType==='View'" class="form-check-input" type="radio" value="Imperial" name="UOM"
            (change)="onUnitChange($event)" id="f-imperial">
          <label class="form-check-label" for="f-imperial">Imperial</label>
        </div>
        <div class="form-check form-check-inline">
          <input [disabled]="pageType==='View'" class="form-check-input" type="radio" value="Metric" name="UOM"
            (change)="onUnitChange($event)" id="f-metric">
          <label class="form-check-label" for="f-metric">Metric</label>
        </div>
        <div class="form-check form-check-inline">
          <input [disabled]="pageType==='View'" class="form-check-input" type="radio" value="Custom" name="UOM"
            (change)="onUnitChange($event)" id="f-custom">
          <label class="form-check-label" for="f-custom">Custom</label>
        </div>
      </div>
      <div class="modal-body org-create-font">

        <div *ngFor="let uom of applicationConfiguration.unitOfMeassurement; let i = index" [attr.data-index]="i"
          class="container-fluid">
          <div class="row" *ngIf="i%2===0 && uom">

            <div class="col-4">
              <div class="row form-group">
                <label class="col-sm-4 col-form-label" for="uom.uomTypeName">{{uom.uomTypeName}}:</label>
                <div class="col-sm-8">
                  <select [(ngModel)]="uomModels[uom.uomTypeName]"
                    (change)="onUoMDropdownChange($event,uom.uomTypeName)" name="uom.uomTypeName"
                    class="form-control form-control-sm">
                    <option></option>
                    <option *ngFor="let view of uom.uoMView" [value]="view.uoMId">
                      {{view.uoMName}}
                    </option>
                  </select>
                </div>
              </div>
            </div>

            <div class="col-4">
              <div class="row form-group">
                <label class="col-sm-4 col-form-label" for="uom.uomTypeName">{{uom.uomTypeName}}:</label>
                <div class="col-sm-8">
                  <select [(ngModel)]="uomModels[uom.uomTypeName]"
                    (change)="onUoMDropdownChange($event,uom.uomTypeName)" name="uom.uomTypeName"
                    class="form-control form-control-sm">
                    <option></option>
                    <option *ngFor="let view of uom.uoMView" [value]="view.uoMId">
                      {{view.uoMName}}
                    </option>
                  </select>
                </div>
              </div>
            </div>

            <div class="col-4" *ngIf="applicationConfiguration.unitOfMeassurement[i+1]">
              <div class="row form-group">
                <label class="col-sm-4 col-form-label"
                  for="applicationConfiguration.unitOfMeassurement[i+1].uomTypeName">{{applicationConfiguration.unitOfMeassurement[i+1].uomTypeName}}:</label>
                <div class="col-sm-8">
                  <select [(ngModel)]="uomModels[applicationConfiguration.unitOfMeassurement[i+1].uomTypeName]"
                    (change)="onUoMDropdownChange($event, applicationConfiguration.unitOfMeassurement[i+1].uomTypeName)"
                    name="applicationConfiguration.unitOfMeassurement[i+1].uomTypeName"
                    class="form-control form-control-sm">
                    <option></option>
                    <option *ngFor="let view of applicationConfiguration.unitOfMeassurement[i+1].uoMView"
                      [value]="view.uoMId">
                      {{view.uoMName}}
                    </option>
                  </select>
                </div>
              </div>
            </div>

          </div>
        </div>
      </div>
      <div class="modal-footer">
        <button id="loc-uom-cancle" type="button" class="btn button-mod btn-secondary"
          (click)="closemodal('cancel')">Cancel
        </button>
        <button id="loc-uom-save" type="button" class="btn button-mod btn-color"
          (click)="closemodal('save')">Save</button>
      </div>

    </div>

  </div>
</div>