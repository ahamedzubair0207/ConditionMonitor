<div class="loc-outside-border" *ngIf="pageLabels">
  <form class="form container create-loc-container border shadow-sm" (ngSubmit)="onLocationSubmit()"> 
    <div class="row loc-create-font">
    <h4 class="col-12">Create Location:</h4>
      <div class="col-md-4">      
        <label for="name"><b>* {{pageLabels.Name.labelName}} :</b></label>
        <input type="text" [(ngModel)]="location.locationName" class="form-control loc-create-font"
        placeholder="Enter Name" name="name" required>
      </div>
      <div class="col-md-4">
        <label for="parentorganization"><b>{{pageLabels.ParentOrganization.labelName}} :</b></label>
        <br>
        <label for="parentorganizationname"><b>Parker</b></label>
      </div>
      <div class="col-md-4">
        <label for="parentLoc"><b>{{pageLabels.ParentLocation.labelName}} :</b></label>
        <br>
        <label for="parentLocname"><b>Cleaveland, OH</b></label>
      </div>
      <div class="col-md-4">
          <label for="primaryContact"><b>* {{pageLabels.PrimaryContact.labelName}} :</b></label>
          <input type="text" [(ngModel)]="location.primaryContact" class="form-control loc-create-font" 
          placeholder="Enter Contact" name="primaryContact">
        </div>
        <div class="col-md-4">
            <label for="primarydistribute"><b>* {{pageLabels.PrimaryDistributor.labelName}} :</b></label>
            <input type="text" [(ngModel)]="location.primaryDistributor" class="form-control loc-create-font" 
            placeholder="Enter Primary Distributor" name="primarydistribute" required>
          </div>
      <div class="col-md-4">
          <label for="locationType"><b>* {{pageLabels.LocationType.labelName}}: </b></label>
          <input type="text" [(ngModel)]="location.locationType" class="form-control loc-create-font" 
          placeholder="Enter Location Type" name="locationType" required>
      </div>
      <div class="col mb-4">
        <label for="f-description"><b>* {{pageLabels.DescriptionofLocation.labelName}} :</b></label>
        <textarea class="form-control" [(ngModel)]="location.description" name="locDescription"rows="3" 
        id="f-description"></textarea>
      </div>
      </div>
    <div class="row loc-create-font">
      <div class="col-md-6">
          <label for="geofence" class="pr-2"><b>{{pageLabels.GeoFence.labelName}}:</b></label>
          <div class="form-check form-check-inline ">
            <input class="form-check-input" [(ngModel)]="location.geoFenceValue"
            type="radio" name="geofence" onClick='' checked id="f-radius">
            <label class="form-check-label" for="f-radius">Radius</label>
            <br>
            <input type="text" class="form-control loc-create-font geo-text-box" placeholder="Enter Radius">
            <select class="drop-down geo-drop-down">
                <option value="ft">Feet</option>
                <option value="meters">Meters</option>
            </select>
          </div>          
          <div class="form-check form-check-inline">
            <input class="form-check-input" type="radio" name="geofence" onClick='' id="f-square">
            <label class="form-check-label" for="f-square">Rectangle</label>
            <br>
            <input type="text" [(ngModel)]="location.geoFenceValue"
            class="form-control loc-create-font" placeholder="Enter Width"> * <input type="text" [(ngModel)]="location.geoFenceValue"
            class="form-control loc-create-font" placeholder="Enter Height">
            <select class="drop-down geo-drop-down">
                <option value="ft">Feet</option>
                <option value="meters">Meters</option>
            </select>
          </div>
      </div> 
      <div class="col-md-6">
        <label for="geoLocation" class="pr-2"><b>* {{pageLabels.GeoLocation.labelName}}:</b></label>
        <input type="text" [(ngModel)]="location.latitude" class="geo-loc-long" placeholder="Longitude" name="geoLocationLong">/ 
        <input type="text" [(ngModel)]="location.longitude" class="geo-loc-lat" placeholder="Latitude" name="geoLocationLat">
        <button type="button" class="btn rounded-circle"><i class="fa fa-bullseye"></i></button>
      </div>
      </div> 
    <div class="row loc-create-font">
      <div class="col">
          <h4><label for="billingaddress">{{pageLabels.BillingAddress.labelName}} :</label></h4>
          <div class="row">
              <div class="col-md-6">
                  <label for="address1"><b>* {{pageLabels.Address1.labelName}}:</b></label>
                  <input type="text" [(ngModel)]="location.address[0].address1" class="form-control loc-create-font" placeholder="Street Name" name="address1">
              </div>
              <div class="col-md-6">
                  <label for="address2"><b>* {{pageLabels.Address2.labelName}}:</b></label>
                  <input type="text" [(ngModel)]="location.address[0].address2" class="form-control loc-create-font" placeholder="Apt/Suite Number" name="address2">
              </div>
              <div class="col-md-3">
                  <label for="city"><b>* {{pageLabels.City.labelName}}:</b></label>
                  <input type="text" [(ngModel)]="location.address[0].city" class="form-control loc-create-font" placeholder="City" name="orgType">
              </div>
              <div class="col-md-3">
                  <label for="zipcode"><b>* {{pageLabels.Zipcode.labelName}}:</b></label>
                  <input type="text" [(ngModel)]="location.address[0].postalCode" class="form-control loc-create-font" placeholder="Zip Code" name="orgType">
              </div>
              <div class="col-md-3">
                  <label for="state"><b>* {{pageLabels.State.labelName}}:</b></label>
                  
                  <select [(ngModel)]="location.address[0].state" name="state" class="drop-down">
                      <option value="" disabled selected>State</option>
                    <option *ngFor="let state of states" [value]="state.value">
                      {{state.text}}
                    </option>
                  </select>>
              </div>
              <div class="col-md-3">
                  <label for="country"><b>* {{pageLabels.Country.labelName}}:</b></label>
                  <select [(ngModel)]="location.address[0].country" name="country" class="drop-down">
                      <option value="" disabled selected>Country</option>
                    <option *ngFor="let country of countries" [value]="country.value">
                      {{country.text}}
                    </option>
                  </select>
                </div>
          </div>   
        </div>
      </div>
    <div class="row loc-create-font">
      <div class="col-md-4">
          <label for="DefaultLang"><b>* {{pageLabels.Language.labelName}}: </b></label>
          <select *ngIf="applicationConfiguration" [(ngModel)]="location.localeId" name="language" class="drop-down">
            <option value="" disabled selected>Select Language</option>
            <option *ngFor="let locale of applicationConfiguration.locale" [value]="locale.localeId">
              {{locale.localeName}}
            </option>
          </select>  
          
          <!-- <select name="language" class="drop-down">
              <option value="0" disabled selected>Select</option>
              <option value="1">English(United States)</option>
              <option value="2">Spanish</option>
              <option value="3">Czech</option>
            </select> -->
        </div>
      <div class="col-md-4">
            <label for="timezone"><b>* {{pageLabels.TimeZone.labelName}} :</b></label>
            <!-- <select *ngIf="applicationConfiguration" [(ngModel)]="location.timeZoneId" name="timezone"
              class="drop-down"> -->
              <select class="drop-down">
              <option value="" disabled selected>Select Timezone</option>
              <option *ngFor="let timeZone of applicationConfiguration.timeZone" [value]="timeZone.timeZoneId">
                {{timeZone.timeZoneName}}
              </option>
            </select>
        </div>
      <div class="col-md-4">
              <label for="unitsOfMeasure"><b>* {{pageLabels.DefaultUnitOfMeasure.labelName}}:</b></label>
              <label for="unitsOfMeasure" class="d-flex "><b>{{UOM}}</b></label>
              <button class="btn btn-secondary uom-btn" type="button" (click)="openmodal()">Change</button>
        </div>
      <div class="col-md-4">
                <label for="locImage"><b>{{pageLabels.LogoFile.labelName}} : </b></label>
                <span style="color:rgb(106,96,85);" *ngIf="message">{{message}}</span>
                <input #file type="file" accept='image/*' (change)="preview(file.files)" />
                <img [src]="imgURL" height="200" *ngIf="imgURL">
        </div>
      <div class="col-md-4">
                <label class="mdb-main-label"for="gateway"><b>Claimed Gateway</b></label>
                <select class="drop-down">
                  <option value="" disabled selected>Choose your Gateway</option>
                  <option value="1">4G- PVSG-IQAN</option>
                  <option value="2">Gateway 1</option>
                  <option value="3">Gateway 2</option>
                </select>
                
                <!-- <button class="btn-save btn btn-primary btn-sm">Save</button> -->
        </div>
      <div class="col-md-4 action-btn-loc">
              <!-- <button type="submit" class="button">+ Organization</button>
                    <button type="submit" class="button">+ Location</button> -->
                    <button routerLink="/loc/home" for="form-cancel"type="button" class="btn btn-secondary btn-lg button-mod">Cancel</button>
                    <button type="submit" class="btn btn-secondary btn-lg button-mod">Delete</button>
                    <button type="submit" class="btn btn-secondary btn-lg button-mod btn-color">Save</button>
        </div> 
      </div>
    </form>
</div>

 <!-- The Modal -->
<div id="myModal" class="modal">
  <div class="modal-dialog modal-dialog-scrollable">
    <!-- Modal content -->
    <div class="modal-content">
      <!-- <span class="close" >&times;</span> -->
      <div class="modal-header">
        <div>
          <label for="UOM" class="pr-2"><b>Units of Measure :</b></label>
          <div class="form-check form-check-inline">
            <input class="form-check-input" type="radio" value="SI" name="UOM" (change)="onUnitChange($event)" checked
              id="f-si">
            <label class="form-check-label" for="f-si">SI</label>
            </div>
          <div class="form-check form-check-inline">
            <input class="form-check-input" type="radio" value="Imperial" name="UOM" (change)="onUnitChange($event)"
              id="f-imperial">
            <label class="form-check-label" for="f-imperial">Imperial</label>
            </div>
          <div class="form-check form-check-inline">
            <input class="form-check-input" type="radio" value="Metric" name="UOM" (change)="onUnitChange($event)"
              id="f-metric">
            <label class="form-check-label" for="f-metric">Metric</label>
            </div>
          <div class="form-check form-check-inline">
            <input class="form-check-input" type="radio" value="Custom" name="UOM" (change)="onUnitChange($event)"
              id="f-custom">
            <label class="form-check-label" for="f-custom">Custom</label>
            </div>
          </div>
        </div>
      <div class="modal-body">
        <div class="row">
          <div *ngFor="let uom of applicationConfiguration.unitOfMeassurement; let i = index" [attr.data-index]="i">
            <div class="row" *ngIf="i%2===0 && uom">
              <div class="col-6">
                <div class="uom-modal-list">
                  <label class="modal-uom-label" for="uom.uomTypeName"><b>{{uom.uomTypeName}} :</b></label>
                </div>
                <div class="float-left">
                  <select [(ngModel)]="uomModels[uom.uomTypeName]"
                    (change)="onUoMDropdownChange($event,uom.uomTypeName)" style="width:100px;" name="uom.uomTypeName"
                    class="drop-down">
                    <option></option>
                    <option *ngFor="let view of uom.uoMView" [value]="view.uoMId">
                      {{view.uoMName}}
                    </option>
                  </select>
                </div>
              </div>
              <div class="col-6" *ngIf="applicationConfiguration.unitOfMeassurement[i+1]">
                <div style="width:140px;float:left;padding-top:3px">
                  <label
                    for="applicationConfiguration.unitOfMeassurement[i+1].uomTypeName"><b>{{applicationConfiguration.unitOfMeassurement[i+1].uomTypeName}}
                      :</b></label>
                </div>
                <div class="float-left">
                  <select [(ngModel)]="uomModels[applicationConfiguration.unitOfMeassurement[i+1].uomTypeName]"
                    (change)="onUoMDropdownChange($event, applicationConfiguration.unitOfMeassurement[i+1].uomTypeName)"
                    style="width:100px;" name="applicationConfiguration.unitOfMeassurement[i+1].uomTypeName"
                    class="drop-down">
                    <option></option>
                    <option *ngFor="let view of applicationConfiguration.unitOfMeassurement[i+1].uoMView"
                      [value]="view.uoMId">
                      {{view.uoMName}}
                    </option>
                  </select>
                </div>
              </div>

            </div>
          </div>
        </div>
      </div>
      <div class="modal-footer">
        <button name=uom-cancle type="button" class="btn button-mod btn-secondary" (click)="closemodal('cancel')">Cancel </button>
        <button name=uom-save type="button" class="btn button-mod btn-color" (click)="closemodal('save')">Save</button>
      </div>

    </div>

  </div>
</div>