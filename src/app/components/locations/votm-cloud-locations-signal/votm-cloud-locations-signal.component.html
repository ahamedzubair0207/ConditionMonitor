<hr>

<div class="row" style="padding: 30px;">
  <div id="sensor-cont" class="col-md-2"></div>
  <div class="col-md-10">
      <div class="chart-cont embed-responsive embed-responsive-16by9" style="background-color: #efefef;">
          <div class="embed-responsive-item" id="map-cont-1">
              <img *ngIf="imgURL"  id="map-image" class="img-fluid" [src]="imgURL" />
          </div>
      </div>
      <br />

  </div>
  <div class="col">
    <button id="loc-signal-association-save" type="button" class="btn mr-1 btn-secondary button-right-mod btn-info btn-sm button-margin-asset"
    (click)="onSaveSignalAssociation()" [disabled]="associatedSignals.length === 0">Save</button>
    <button
    id="asset-cancel"
    for="form-cancel"
    type="button"
    (click)="onCancelClick($event)"
    class="btn btn-secondary button-right-mod btn-sm button-margin-asset "
  >
    Cancel
  </button>
  </div>
</div>

<p-overlayPanel #editOP [appendTo]="'body'" [style]="{ 'width' : '400px'}" [dismissable]="false"
[showCloseIcon]="true">
  <div class="row"  *ngIf="selectedSignal">
    <div class="col-md-12">
        <div class="card">
            <div class="card-header">Signal Association</div>
            <div class="card-body">
              <div class="row">
                <div class="col-md-12">
                  <div class="form-group">
                    <label class="temp" id="edit-panel-name-label">Name: </label>
                    <div class="">
                      <input type="text" class="form-control form-control-sm" id="edit-panel-name" placeholder="Enter Signal Name"
                      [(ngModel)]="selectedSignal.associationName">
                    </div>
                  </div>
                </div>
                <div class="col-md-6">
                  <div class="form-group">
                    <label class="temp" id="edit-panel-x-label">Position: &nbsp; X</label>
                    <div class="">
                      <input type="text" id="edit-panel-position-x" class="form-control form-control-sm" [(ngModel)]="selectedSignal.imageCoordinates.x" placeholder="Enter Postion X">
                    </div>
                  </div>
                </div>
                <div class="col-md-6">
                  <div class="form-group">
                    <label class="temp" id="edit-panel-y-label">Position: &nbsp; Y</label>
                    <div class="">
                      <input type="text" id="edit-panel-position-y" class="form-control form-control-sm" [(ngModel)]="selectedSignal.imageCoordinates.y" placeholder="Enter Position Y">
                    </div>
                  </div>
                </div>
                <div class="col-md-6">
                  <div class="form-group">
                    <label class="temp" id="edit-panel-x-label">Source Signal Type: </label>
                    <div class="">
                      {{selectedSignal.name}}
                    </div>
                  </div>
                </div>
                <div class="col-md-6">
                  <div class="form-group">
                    <label class="temp" id="edit-panel-x-label">Source Sensor: </label>
                    <div class="">
                      {{selectedSignal.sensorName}}
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div class="card-footer text-muted">
                <button class="btn btn-sm btn-info pull-right" (click)="onClickOfSaveSignalAssociationPanel()">Save</button>
                <button class="btn btn-sm btn-outline-secondary pull-right mr-1" (click)="closeEditOpanel()">Close</button>
            </div>
        </div>
    </div>
</div>
</p-overlayPanel>

<p-overlayPanel #alertOP [appendTo]="'body'" [style]="{ 'width' : '400px'}" [dismissable]="false"
[showCloseIcon]="true">
  <div class="row"  *ngIf="selectedSignal">
    <div class="col-md-12">
        <div class="card">
            <div class="card-header">Alarm Rule Association</div>
            <div class="card-body">
              <div class="row">
                <div class="col-md-12">
                  <div class="form-group">
                    <label class="temp" id="edit-panel-name-label">Add Rule: </label>
                    <div class="">
                      <select  class="form-control form-control-sm" id="alert-panel-rule-name" >
                        <option>Select Any</option>
                        <option *ngFor="let rule of alertRules" >{{rule.alertRuleName}}</option>
                      </select>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div class="card-footer text-muted">
                <button class="btn btn-sm btn-info pull-right" >Save</button>
                <button class="btn btn-sm btn-outline-secondary pull-right mr-1" (click)="onClickOfCreateAssociateRule()">Create & Associate Rule</button>
            </div>
        </div>
    </div>
</div>
</p-overlayPanel>




